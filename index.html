<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,shrink-to-fit=no"
    />
    <title>Widget postMessage</title>
    <style>
      body {
        background-color: #eee;
      }
      div {
        padding: 10px;
      }
      iframe {
        border: solid 1px #aaa;
        margin-bottom: 10px;
      }
    </style>
    <script>
      // --- RECEIVING MESSAGEES ---
      // // Setup event listener that logs when parent window receives message event from child iframe
      window.addEventListener("message", (event) => {
        const { data = {} } = event; // event.data
        const { type = "" } = data; // data.type
        if (type === "sendMessage" || type === "unreadCount") {
          console.log(data);
        }
      });
    </script>
  </head>
  <body>
    <div>
      <iframe
        id="widget1"
        src="https://embed.zipwhip.com/"
        width="400px"
        height="600px"
        frameborder="0"
      >
      </iframe>
    </div>
  </body>
</html>
